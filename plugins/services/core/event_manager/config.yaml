name: "event_manager"
description: "Сервис для асинхронного polling событий Telegram и генерации событий для trigger_manager. Обрабатывает сообщения, callback, media group, управляет таймингом и фильтрацией."
singleton: true
dependencies:
  utilities:
    - "logger"
    - "trigger_manager"
    - "bot_initializer"
    - "settings_manager"
    - "datetime_formatter"
    - "data_converter"
settings:
  media_group_timeout:
    type: float
    default: 1.0
    description: "Таймаут (в секундах) для группировки media group сообщений"
  media_group_enabled:
    type: boolean
    default: true
    description: "Включить обработку media group (группировка вложений)"
  max_event_age_seconds:
    type: integer
    default: 60
    description: "Максимальный возраст события (в секундах), после которого оно игнорируется"
features:
  - "Асинхронный polling событий Telegram API"
  - "Группировка media group сообщений с таймаутом"
  - "Гибкая настройка polling и фильтрации событий через config.yaml"
  - "Передача событий в trigger_manager через DI"
  - "Исключительный сервис без действий - только запись в очередь" 