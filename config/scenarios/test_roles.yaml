roles_main:
  actions:
    - type: send
      text: |
        üîê üìã –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–æ–ª–µ–≤–æ–π –º–æ–¥–µ–ª–∏
        
        –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É —Ä–æ–ª–µ–π –∏ –¥–æ—Å—Ç—É–ø–æ–≤:
        ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
        ‚Ä¢ –†–æ–ª–∏ ‚Äî —Ç–µ—Å—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–æ–ª—è–º
        ‚Ä¢ –î–æ—Å—Ç—É–ø—ã ‚Äî —Ç–µ—Å—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º
        ‚Ä¢ –í–º–µ—Å—Ç–µ ‚Äî —Ç–µ—Å—Ç –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
      inline:
        - ["–†–æ–ª–∏", "–î–æ—Å—Ç—É–ø—ã", "–í–º–µ—Å—Ç–µ"]
        - [{"–ù–∞–∑–∞–¥": "start_menu"}]

roles:
  actions:
    - type: send
      text: |
        üë• üîë –¢–µ—Å—Ç: –†–æ–ª–∏
        
        ‚úÖ –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (–µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–æ–ª—è–º)
        ‚ùå –í—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–æ–ª—è–º)
      inline:
        - [{"–ù–∞–∑–∞–¥": "roles_main"}]
      callback_edit: false
      chain: true
      required_role: ["admin", "moderator"]
    - type: scenario
      value: "test_roles.no_access"
    - type: send
      text: |
        üë• üîë –¢–µ—Å—Ç: –†–æ–ª–∏ (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ)
        
        –≠—Ç–æ –≤—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ü–µ–ø–æ—á–∫–µ —Ä–æ–ª–µ–π.
        –ï—Å–ª–∏ –≤—ã –µ–≥–æ –≤–∏–¥–∏—Ç–µ, –∑–Ω–∞—á–∏—Ç —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ admin –∏–ª–∏ moderator.
      inline:
        - [{"–ù–∞–∑–∞–¥": "roles_main"}]
      callback_edit: false
      chain: any
      required_role: ["no_role"]
    - type: scenario
      value: "test_roles.no_access"

permissions:
  actions:
    - type: send
      text: |
        üîë üîê –¢–µ—Å—Ç: –î–æ—Å—Ç—É–ø—ã
        
        ‚úÖ –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (–µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º)
        ‚ùå –í—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (–Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º)
      inline:
        - [{"–ù–∞–∑–∞–¥": "roles_main"}]
      callback_edit: false
      chain: any
      required_permission: ["test_permissions"]
    - type: scenario
      value: "test_roles.no_access"
    - type: send
      text: |
        üîë üîê –¢–µ—Å—Ç: –î–æ—Å—Ç—É–ø—ã (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ)
        
        –≠—Ç–æ –≤—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ü–µ–ø–æ—á–∫–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π.
        –ï—Å–ª–∏ –≤—ã –µ–≥–æ –≤–∏–¥–∏—Ç–µ, –∑–Ω–∞—á–∏—Ç —É –≤–∞—Å –µ—Å—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ test_permissions.
      inline:
        - [{"–ù–∞–∑–∞–¥": "roles_main"}]
      callback_edit: false
      chain: any
      required_permission: ["no_permissions"]
    - type: scenario
      value: "test_roles.no_access"

roles_permissions:
  actions:
    - type: send
      text: |
        üîê üîó –¢–µ—Å—Ç: –†–æ–ª–∏ + –î–æ—Å—Ç—É–ø—ã
        
        ‚úÖ –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (–µ—Å—Ç—å –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø)
        ‚ùå –í—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è (–Ω–µ—Ç –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞)
      inline:
        - [{"–ù–∞–∑–∞–¥": "roles_main"}]
      callback_edit: false
      chain: any
      required_role: ["admin"]
      required_permission: ["test_permissions"]
    - type: scenario
      value: "test_roles.no_access"
    - type: send
      text: |
        üîê üîó –¢–µ—Å—Ç: –†–æ–ª–∏ + –î–æ—Å—Ç—É–ø—ã (–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ)
        
        –≠—Ç–æ –≤—Ç–æ—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ü–µ–ø–æ—á–∫–µ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.
        –ï—Å–ª–∏ –≤—ã –µ–≥–æ –≤–∏–¥–∏—Ç–µ, –∑–Ω–∞—á–∏—Ç —É –≤–∞—Å –µ—Å—Ç—å —Ä–æ–ª—å admin –ò —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ test_permissions.
      inline:
        - [{"–ù–∞–∑–∞–¥": "roles_main"}]
      callback_edit: false
      chain: any
      required_role: ["admin"]
      required_permission: ["no_permissions"]
    - type: scenario
      value: "test_roles.no_access"

no_access:
  actions:
    - type: send
      text: |
        ‚ùå üö´ –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω

        –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.
      inline:
        - [{"–ù–∞–∑–∞–¥": "roles_main"}]
      callback_edit: false
      chain: failed