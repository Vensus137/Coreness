# Master Bot Commands
# Hidden command /start - not shown in command list
start:
  description: "Hidden command to start Master Bot"
  
  trigger:
    - event_type: "message"
      event_text: "/start"
    - event_type: "callback"
      callback_data: "start"

  step:
    # Access check
    - action: "execute_scenario"
      params:
        scenario: "access_check"

    # Greeting (will execute only after successful access check)
    - action: "send_message"
      params:
        text: |
          üîß <b>Master Bot</b> - –°–∏—Å—Ç–µ–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
          
          –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π!
        inline:
          - [{"üè† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–Ω–∞–Ω—Ç–æ–º": "tenant"}, {"‚ÑπÔ∏è –°–ø—Ä–∞–≤–∫–∞": "help"}]
        message_edit: true

# Help command - brief information about Master Bot
help:
  description: "Help command with brief information about Master Bot"
  
  trigger:
    - event_type: "message"
      event_text: "/help"
    - event_type: "callback"
      callback_data: "help"

  step:
    # Access check
    - action: "execute_scenario"
      params:
        scenario: "access_check"
    
    # Bot information (will execute only after successful access check)
    - action: "send_message"
      params:
        text: |
          üîß <b>–°–ø—Ä–∞–≤–∫–∞</b>
          
          <b>–ö–æ–º–∞–Ω–¥—ã:</b>
          ‚Ä¢ /tenant - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–Ω–∞–Ω—Ç–∞–º–∏
          ‚Ä¢ /help - —ç—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞
          ‚Ä¢ /mail - —Ä–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
          
          <i>–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º.</i>
        inline:
          - [{"üè† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–Ω–∞–Ω—Ç–æ–º": "tenant"}]
        message_edit: true

# Public command /me - user information
me:
  description: "Public command to display user information"
  
  trigger:
    - event_type: "message"
      event_text: "/me"

  step:
    # User information (available to all)
    - action: "send_message"
      params:
        text: |
          üë§ <b>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</b>
          
          <b>ID:</b> <code>{user_id}</code>
          <b>Username:</b> <code>@{username|fallback:–Ω–µ —É–∫–∞–∑–∞–Ω}</code>
          <b>–ò–º—è:</b> <code>{first_name|fallback:–Ω–µ —É–∫–∞–∑–∞–Ω–æ}</code>
          <b>–§–∞–º–∏–ª–∏—è:</b> <code>{last_name|fallback:–Ω–µ —É–∫–∞–∑–∞–Ω–∞}</code>
          <b>–Ø–∑—ã–∫:</b> <code>{language_code|fallback:–Ω–µ —É–∫–∞–∑–∞–Ω}</code>
        message_edit: true

# Hidden command /file - get file_id and type of attachments
file_info:
  description: "Hidden command to get file_id and type of attachments for subsequent forwarding"
  
  trigger:
    - event_type: "message"
      event_text: "/file"

  step:
    # File information (available to all)
    - action: "send_message"
      params:
        text: |
          üìé <b>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ</b>
          
          <b>file_id:</b> <code>{event_attachment[0].file_id|fallback:{reply_attachment[0].file_id|fallback:–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω}}</code>
          <b>type:</b> <code>{event_attachment[0].type|fallback:{reply_attachment[0].type|fallback:–¢–∏–ø –Ω–µ –Ω–∞–π–¥–µ–Ω}}</code>
        message_edit: true