# –ö–æ–º–∞–Ω–¥—ã Master –±–æ—Ç–∞
# –°–∫—Ä—ã—Ç–∞—è –∫–æ–º–∞–Ω–¥–∞ /start - –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –∫–æ–º–∞–Ω–¥
start:
  description: "–°–∫—Ä—ã—Ç–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ Master –±–æ—Ç–∞"
  
  trigger:
    - event_type: "message"
      event_text: "/start"
    - event_type: "callback"
      callback_data: "start"

  step:
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
    - action: "execute_scenario"
      params:
        scenario: "access_check"

    # –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ (–≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ –¥–æ—Å—Ç—É–ø–∞)
    - action: "send_message"
      params:
        text: |
          üîß <b>Master Bot</b> - –°–∏—Å—Ç–µ–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
          
          –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π!
        inline:
          - [{"üè† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–Ω–∞–Ω—Ç–æ–º": "tenant"}, {"‚ÑπÔ∏è –°–ø—Ä–∞–≤–∫–∞": "help"}]
        message_edit: true

# –ö–æ–º–∞–Ω–¥–∞ help - –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Master –±–æ—Ç–µ
help:
  description: "–ö–æ–º–∞–Ω–¥–∞ –ø–æ–º–æ—â–∏ —Å –∫—Ä–∞—Ç–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ Master –±–æ—Ç–µ"
  
  trigger:
    - event_type: "message"
      event_text: "/help"
    - event_type: "callback"
      callback_data: "help"

  step:
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
    - action: "execute_scenario"
      params:
        scenario: "access_check"
    
    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ—Ç–µ (–≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ –¥–æ—Å—Ç—É–ø–∞)
    - action: "send_message"
      params:
        text: |
          üîß <b>–°–ø—Ä–∞–≤–∫–∞</b>
          
          <b>–ö–æ–º–∞–Ω–¥—ã:</b>
          ‚Ä¢ /tenant - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–Ω–∞–Ω—Ç–∞–º–∏
          ‚Ä¢ /help - —ç—Ç–∞ —Å–ø—Ä–∞–≤–∫–∞
          ‚Ä¢ /mail - —Ä–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)
          
          <i>–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º.</i>
        inline:
          - [{"üè† –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–Ω–∞–Ω—Ç–æ–º": "tenant"}]
        message_edit: true

# –ü—É–±–ª–∏—á–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ /me - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
me:
  description: "–ü—É–±–ª–∏—á–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ"
  
  trigger:
    - event_type: "message"
      event_text: "/me"

  step:
    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (–¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–º)
    - action: "send_message"
      params:
        text: |
          üë§ <b>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ</b>
          
          <b>ID:</b> <code>{user_id}</code>
          <b>Username:</b> <code>@{username|fallback:–Ω–µ —É–∫–∞–∑–∞–Ω}</code>
          <b>–ò–º—è:</b> <code>{first_name|fallback:–Ω–µ —É–∫–∞–∑–∞–Ω–æ}</code>
          <b>–§–∞–º–∏–ª–∏—è:</b> <code>{last_name|fallback:–Ω–µ —É–∫–∞–∑–∞–Ω–∞}</code>
          <b>–Ø–∑—ã–∫:</b> <code>{language_code|fallback:–Ω–µ —É–∫–∞–∑–∞–Ω}</code>
        message_edit: true

# –°–∫—Ä—ã—Ç–∞—è –∫–æ–º–∞–Ω–¥–∞ /file - –ø–æ–ª—É—á–µ–Ω–∏–µ file_id –∏ type –≤–ª–æ–∂–µ–Ω–∏–π
file_info:
  description: "–°–∫—Ä—ã—Ç–∞—è –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è file_id –∏ type –≤–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ø–µ—Ä–µ—Å—ã–ª–∫–∏"
  
  trigger:
    - event_type: "message"
      event_text: "/file"

  step:
    # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ (–¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å–µ–º)
    - action: "send_message"
      params:
        text: |
          üìé <b>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ</b>
          
          <b>file_id:</b> <code>{event_attachment[0].file_id|fallback:{reply_attachment[0].file_id|fallback:–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω}}</code>
          <b>type:</b> <code>{event_attachment[0].type|fallback:{reply_attachment[0].type|fallback:–¢–∏–ø –Ω–µ –Ω–∞–π–¥–µ–Ω}}</code>
        message_edit: true