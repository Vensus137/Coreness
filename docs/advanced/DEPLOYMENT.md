# üöÄ –°–∏—Å—Ç–µ–º–∞ –¥–µ–ø–ª–æ—è

–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–µ–ø–ª–æ–µ–º, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å–µ—Ä–≤–µ—Ä–∞ –∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ –ë–î.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–æ–ø–µ—Ä–∞—Ü–∏–∏)
  - [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞](#–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-—Å–µ—Ä–≤–µ—Ä–∞)
  - [–î–µ–ø–ª–æ–π –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏](#–¥–µ–ø–ª–æ–π-–≤-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)
  - [–†–∞–±–æ—Ç–∞ —Å –ë–î](#—Ä–∞–±–æ—Ç–∞-—Å-–±–¥)
  - [–û—Ç–∫–∞—Ç Docker –æ–±—Ä–∞–∑–∞](#–æ—Ç–∫–∞—Ç-docker-–æ–±—Ä–∞–∑–∞)
  - [–û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –æ–±—Ä–∞–∑–æ–≤](#–æ—á–∏—Å—Ç–∫–∞-—Å—Ç–∞—Ä—ã—Ö-–æ–±—Ä–∞–∑–æ–≤)
- [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- [–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ](#–≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [Docker](#docker)
- [Graceful Shutdown](#graceful-shutdown-–ø—Ä–∏-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–≤–µ–±—Ö—É–∫–æ–≤)
  - [GitHub Webhooks](#github-webhooks)
  - [Telegram Webhooks](#telegram-webhooks)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞–º–∏ –∫ –ë–î](#—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-–¥–æ—Å—Ç—É–ø–∞–º–∏-–∫-–±–¥)
- [Troubleshooting](#troubleshooting)

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
python tools/deployment/deployment_manager.py
```

**–ú–µ–Ω—é:**
1. üöÄ –î–µ–ø–ª–æ–π –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
2. üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞
3. üóÑÔ∏è –†–∞–±–æ—Ç–∞ —Å –ë–î
4. ‚è™ –û—Ç–∫–∞—Ç Docker –æ–±—Ä–∞–∑–∞
5. üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –æ–±—Ä–∞–∑–æ–≤

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

### üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ GitHub:

1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (test/prod)
2. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Ç–∫–∏ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
3. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ –∏–∑ git tag
4. –ë—ç–∫–∞–ø —Ñ–∞–π–ª–æ–≤ –∏ –ë–î
5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ø–æ –ø—Ä–µ—Å–µ—Ç–∞–º
6. –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ + —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ)
7. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `config/.version`
8. –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞ —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º
9. **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —Å graceful shutdown** (—Å–º. —Ä–∞–∑–¥–µ–ª [Graceful Shutdown](#graceful-shutdown-–ø—Ä–∏-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏))
10. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã `dc`

**–ò—Å–∫–ª—é—á–µ–Ω–∏—è:** 
- `config/settings.yaml` - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- `config/tenant/` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Ç–µ–Ω–∞–Ω—Ç–æ–≤ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
- `config/.version` - –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª –≤–µ—Ä—Å–∏–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ PostgreSQL (–µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `custom_exclude`):
  - `docker/postgresql.test.conf` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL –¥–ª—è test –æ–∫—Ä—É–∂–µ–Ω–∏—è
  - `docker/postgresql.prod.conf` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PostgreSQL –¥–ª—è prod –æ–∫—Ä—É–∂–µ–Ω–∏—è
  - `docker/pg_hba.test.conf` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è test –æ–∫—Ä—É–∂–µ–Ω–∏—è
  - `docker/pg_hba.prod.conf` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è prod –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–í–∞–∂–Ω–æ:** –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ PostgreSQL –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ `custom_exclude` –≤ `tools/deployment/config.yaml`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–ø–∞–º—è—Ç—å, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è) –º–µ–∂–¥—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏. –ï—Å–ª–∏ —Ñ–∞–π–ª—ã –Ω–µ –∏—Å–∫–ª—é—á–µ–Ω—ã, –æ–Ω–∏ –±—É–¥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –≤–µ—Ä—Å–∏—è–º–∏ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞.

### üöÄ –î–µ–ø–ª–æ–π –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

–î–µ–ø–ª–æ–π –∫–æ–¥–∞ –≤–æ –≤–Ω–µ—à–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (Core, Tenant):
- –í—ã–±–æ—Ä –≤–µ—Ä—Å–∏–∏ –∏–∑ CHANGELOG.md
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ø–æ –ø—Ä–µ—Å–µ—Ç–∞–º
- –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ—Ç–æ–∫ –∏ –∫–æ–º–º–∏—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ Merge Request

### üóÑÔ∏è –†–∞–±–æ—Ç–∞ —Å –ë–î

**–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ö–µ–º—ã
- –°–æ–∑–¥–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü –∏ –∫–æ–ª–æ–Ω–æ–∫
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è JSON –ø–æ–ª–µ–π

**–°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏:**
- –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –≤ `tools/deployment/migrations/vX.Y.Z/`
- –ë—ç–∫–∞–ø—ã –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ë–î

### ‚è™ –û—Ç–∫–∞—Ç Docker –æ–±—Ä–∞–∑–∞

–û—Ç–∫–∞—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é –≤–µ—Ä—Å–∏—é –æ–±—Ä–∞–∑–∞ (—Ç–æ–ª—å–∫–æ prod):
- –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
- –í—ã–±–æ—Ä –≤–µ—Ä—Å–∏–∏ –¥–ª—è –æ—Ç–∫–∞—Ç–∞
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### üßπ –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –æ–±—Ä–∞–∑–æ–≤

–£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π Docker –æ–±—Ä–∞–∑–æ–≤:
- –û—á–∏—Å—Ç–∫–∞ dangling images (–Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –æ–±—Ä–∞–∑—ã)
- –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π –æ–±—Ä–∞–∑–æ–≤ (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –≤–µ—Ä—Å–∏–π)
- –ü–æ–∫–∞–∑ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- –î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è test –∏ prod –æ–∫—Ä—É–∂–µ–Ω–∏–π

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–§–∞–π–ª:** `tools/deployment/config.yaml`

**–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
- `server_update.repository` - —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –≤–µ—Ç–∫–∏
- `server_update.deployment.presets` - –ø—Ä–∞–≤–∏–ª–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–æ–≤
- `server_update.deployment.custom_exclude` - —Ñ–∞–π–ª—ã, –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã–µ –∏–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `repositories` - –≤–Ω–µ—à–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–ª—è –¥–µ–ø–ª–æ—è
- `migration_settings` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–π

**–ò—Å–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**

–§–∞–π–ª—ã, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ `server_update.deployment.custom_exclude`, –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–µ–∂–¥—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏.

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π:**
- `config/settings.yaml` - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `config/.version` - –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª –≤–µ—Ä—Å–∏–∏
- `docker/postgresql.*.conf` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PostgreSQL (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞–º—è—Ç–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
- `docker/pg_hba.*.conf` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ PostgreSQL

**–í–∞–∂–Ω–æ:** –ï—Å–ª–∏ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ PostgreSQL –Ω–µ –∏—Å–∫–ª—é—á–µ–Ω—ã, –æ–Ω–∏ –±—É–¥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –≤–µ—Ä—Å–∏—è–º–∏ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏, —á—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø–æ—Ç–µ—Ä–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–∞–º—è—Ç–∏ –¥–ª—è test/prod –æ–∫—Ä—É–∂–µ–Ω–∏–π).

---

## –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–í–µ—Ä—Å–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `config/.version`:
```yaml
version: "0.18.0"
release: false  # true –¥–ª—è —Ä–µ–ª–∏–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
```

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–∑ git tag. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è.

---

## Docker

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `docker/compose` (–∫–æ–º–∞–Ω–¥–∞ `dc`):**
```bash
dc start        # –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
dc stop         # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
dc logs         # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
dc sv status    # –°—Ç–∞—Ç—É—Å –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ Supervisor
dc sv restart   # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞
dc stats        # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
dc install      # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã dc
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
- `dc start/stop/restart` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
- `dc down` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- `dc up [service]` - –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- `dc logs [service]` - –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
- `dc shell [service]` - –æ—Ç–∫—Ä—ã—Ç–∏–µ shell –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- `dc sv [status|restart|stop|start|logs] [proc]` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Supervisor
- `dc resources set [service] --cpus X --memory Y` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

**–ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker Compose:**

–ö–æ–º–∞–Ω–¥–∞ `dc` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç compose —Ñ–∞–π–ª—ã –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `~/.docker-compose/`:
- –§–∞–π–ª—ã –∫–æ–ø–∏—Ä—É—é—Ç—Å—è —Ç—É–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É `dc` –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π –Ω–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- **–í–∞–∂–Ω–æ:** –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ PostgreSQL (`postgresql.*.conf`, `pg_hba.*.conf`) —Ç–∞–∫–∂–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

**–ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã (–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏):**
- `docker/docker-compose.yml` - –±–∞–∑–æ–≤—ã–π
- `docker/docker-compose.test.yml` - test –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- `docker/docker-compose.prod.yml` - prod –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- `docker/docker-compose.override.yml` - –ª–æ–∫–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–Ω–µ –≤ git)
- `docker/postgresql.test.conf` / `docker/postgresql.prod.conf` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PostgreSQL
- `docker/pg_hba.test.conf` / `docker/pg_hba.prod.conf` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ PostgreSQL

**–ì–¥–µ –º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**

- **–î–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:** —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤ `~/.docker-compose/` (–æ–Ω–∏ –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏, –µ—Å–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `custom_exclude`)
- **–î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:** —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤ `docker/` –∏ –∑–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (–æ–Ω–∏ –±—É–¥—É—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ –≥–ª–æ–±–∞–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Prod: —Å–µ—Ä–≤–∏—Å `app`, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `app` (–∫–æ–¥ –≤ –æ–±—Ä–∞–∑–µ –¥–ª—è –æ—Ç–∫–∞—Ç–∞)
- Test: —Å–µ—Ä–≤–∏—Å `app-test`, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `app-test` (–∫–æ–¥ —á–µ—Ä–µ–∑ volume)
- Dev: —Å–µ—Ä–≤–∏—Å `app`, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `app` (–∫–æ–¥ —á–µ—Ä–µ–∑ volume, –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- Prod –∏ Test –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –∏–º–µ–Ω–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- –û–±—Ä–∞–∑—ã –¥–ª—è prod –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
- –°—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏ –º–æ–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ –º–µ–Ω—é –¥–µ–ø–ª–æ—è (–ø—É–Ω–∫—Ç 5)

---

## Graceful Shutdown –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

–°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞.

### –ú–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç—ã

–ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞ (–ø—É–Ω–∫—Ç 2 –º–µ–Ω—é) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å:

1. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞** (`docker-compose stop`)
   - Docker –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç SIGTERM –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É
   - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –¥–æ **15 —Å–µ–∫—É–Ω–¥** (`stop_grace_period`) –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
   - –ï—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è —Ä–∞–Ω—å—à–µ, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å—Ä–∞–∑—É (–Ω–µ –∂–¥—ë—Ç –ø–æ–ª–Ω—ã–µ 15 —Å–µ–∫—É–Ω–¥)

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–∞ –≤ Supervisor**
   - Supervisor (PID 1) –ø–æ–ª—É—á–∞–µ—Ç SIGTERM
   - –ü–µ—Ä–µ–¥–∞—ë—Ç —Å–∏–≥–Ω–∞–ª –¥–æ—á–µ—Ä–Ω–µ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É (Python –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
   - –ñ–¥—ë—Ç –¥–æ **10 —Å–µ–∫—É–Ω–¥** (`stopwaitsecs`) –ø–µ—Ä–µ–¥ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π

3. **Graceful shutdown –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∞–µ—Ç SIGTERM –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç graceful shutdown
   - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á (–¥–æ 2 —Å–µ–∫—É–Ω–¥)
   - Shutdown DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–¥–æ 3 —Å–µ–∫—É–Ω–¥)
   - –û–±—â–∏–π timeout –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –∫–∞–∫ —Å—É–º–º–∞ `di_container_timeout + background_tasks_timeout`

4. **–ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**
   - –ü–æ—Å–ª–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `--force-recreate` –¥–ª—è –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤

**Docker Compose** (`docker/docker-compose.yml`):
- `stop_grace_period: 15s` - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

**Supervisor** (`docker/supervisord.conf`):
- `stopsignal=TERM` - —Å–∏–≥–Ω–∞–ª –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ (SIGTERM)
- `stopwaitsecs=10` - –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –ø–µ—Ä–µ–¥ SIGKILL
- `killasgroup=true` - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Å–µ–π –≥—Ä—É–ø–ø—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- `stopasgroup=true` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ–π –≥—Ä—É–ø–ø—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ shutdown** (–≤ `config/settings.yaml`):
- `global.shutdown.di_container_timeout: 5.0s` - –≤—Ä–µ–º—è –Ω–∞ shutdown DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (–≤—Å–µ—Ö –ø–ª–∞–≥–∏–Ω–æ–≤)
- `global.shutdown.plugin_timeout: 3.0s` - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –≤—Ä–µ–º—è –Ω–∞ shutdown –∫–∞–∂–¥–æ–≥–æ –ø–ª–∞–≥–∏–Ω–∞
- `global.shutdown.background_tasks_timeout: 2.0s` - –≤—Ä–µ–º—è –Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ `config/settings.yaml` –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤

### GitHub Webhooks

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —Ç–µ–Ω–∞–Ω—Ç–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–µ–±—Ö—É–∫ –≤ GitHub.

#### –®–∞–≥ 1: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ URL –≤–µ–±—Ö—É–∫–∞

URL –≤–µ–±—Ö—É–∫–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞:

- **Production:** `https://your-server-ip:443/webhooks/github`
- **Test:** `https://your-server-ip:8443/webhooks/github`

**–í–∞–∂–Ω–æ:** 
- –ó–∞–º–µ–Ω–∏—Ç–µ `your-server-ip` –Ω–∞ IP-–∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∞–π—Ä–≤–æ–ª–∞)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS —Å —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è)
- –ü–æ—Ä—Ç—ã 443 (prod) –∏ 8443 (test) —Ä–∞–∑—Ä–µ—à–µ–Ω—ã Telegram –¥–ª—è –≤–µ–±—Ö—É–∫–æ–≤

#### –®–∞–≥ 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–∞

–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–µ–∫—Ä–µ—Ç –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–µ–±—Ö—É–∫–æ–≤:

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Å–µ–∫—Ä–µ—Ç–∞ (32 —Å–∏–º–≤–æ–ª–∞)
openssl rand -hex 32
```

#### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –í Docker Compose (–¥–æ–±–∞–≤—å—Ç–µ –≤ environment —Å–µ–∫—Ü–∏—é)
GITHUB_WEBHOOK_SECRET=your_generated_secret_here
```

–ò–ª–∏ –≤ `.env` —Ñ–∞–π–ª–µ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è):
```
GITHUB_WEBHOOK_SECRET=your_generated_secret_here
```

#### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±—Ö—É–∫–∞ –≤ GitHub

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –û—Ç–∫—Ä–æ–π—Ç–µ **Settings** ‚Üí **Webhooks** ‚Üí **Add webhook**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **Payload URL:** `https://your-server-ip:443/webhooks/github` (prod) –∏–ª–∏ `https://your-server-ip:8443/webhooks/github` (test)
   - **Content type:** `application/json`
   - **Secret:** –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–æ—Ç –∂–µ —Å–µ–∫—Ä–µ—Ç, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –≤ `GITHUB_WEBHOOK_SECRET`
   - **SSL verification:** 
     - –î–ª—è **HTTPS —Å –≤–∞–ª–∏–¥–Ω—ã–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º**: –≤–∫–ª—é—á–∏—Ç–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
     - –î–ª—è **HTTPS —Å —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º**: –æ—Ç–∫–ª—é—á–∏—Ç–µ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ)
   - **Which events would you like to trigger this webhook?:** –≤—ã–±–µ—Ä–∏—Ç–µ **Just the push event**
4. –ù–∞–∂–º–∏—Ç–µ **Add webhook**

#### –®–∞–≥ 5: –í–∫–ª—é—á–µ–Ω–∏–µ –≤–µ–±—Ö—É–∫–æ–≤ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

–í `config/settings.yaml` –∏–ª–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```yaml
tenant_hub:
  use_webhooks: true  # –í–∫–ª—é—á–∏—Ç—å –≤–µ–±—Ö—É–∫–∏ GitHub
```

#### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ –∏ `http_api_service` –≤–∫–ª—é—á–µ–Ω
2. –°–¥–µ–ª–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–º–º–∏—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ –≤–µ–±—Ö—É–∫–∞
4. –í GitHub –≤ —Ä–∞–∑–¥–µ–ª–µ Webhooks ‚Üí –≤–∞—à –≤–µ–±—Ö—É–∫ ‚Üí Recent Deliveries –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–∞–≤–∫–∏

---

### Telegram Webhooks

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–µ–±—Ö—É–∫–æ–≤ –≤–º–µ—Å—Ç–æ –ø—É–ª–∏–Ω–≥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –æ—Ç Telegram –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤–Ω–µ—à–Ω–∏–π URL —Å–µ—Ä–≤–µ—Ä–∞.

#### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ URL

–í `config/settings.yaml` –∏–ª–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```yaml
http_server:
  port: 8443  # –î–ª—è test –æ–∫—Ä—É–∂–µ–Ω–∏—è (–∏–ª–∏ 443 –¥–ª—è prod)
  external_url: "https://your-server-ip:8443"  # –í–Ω–µ—à–Ω–∏–π IP –∏–ª–∏ –¥–æ–º–µ–Ω —Å–µ—Ä–≤–µ—Ä–∞
  # –î–ª—è prod –æ–∫—Ä—É–∂–µ–Ω–∏—è:
  # port: 443
  # external_url: "https://your-server-ip:443"
  # –ò–ª–∏ –¥–ª—è –¥–æ–º–µ–Ω–∞:
  # external_url: "https://example.com:443"
```

**–í–∞–∂–Ω–æ:**
- URL –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (–Ω–µ localhost, –Ω–µ 127.0.0.1)
- –î–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å HTTPS (Telegram —Ç—Ä–µ–±—É–µ—Ç HTTPS –¥–ª—è –≤–µ–±—Ö—É–∫–æ–≤)
- **–ü–æ—Ä—Ç—ã:** Telegram —Ä–∞–∑—Ä–µ—à–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Ä—Ç—ã 80, 88, 443 –∏–ª–∏ 8443
  - **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:** 443 –¥–ª—è prod, 8443 –¥–ª—è test
- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å IP –∞–¥—Ä–µ—Å –Ω–∞–ø—Ä—è–º—É—é: `https://123.45.67.89:8443`
- –ò–ª–∏ –¥–æ–º–µ–Ω: `https://example.com:443`

#### –®–∞–≥ 2: –í–∫–ª—é—á–µ–Ω–∏–µ –≤–µ–±—Ö—É–∫–æ–≤

–í `config/settings.yaml`:

```yaml
bot_hub:
  use_webhooks: true  # –í–∫–ª—é—á–∏—Ç—å –≤–µ–±—Ö—É–∫–∏ Telegram
```

#### –®–∞–≥ 3: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

–ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –≤–µ–±—Ö—É–∫–æ–≤ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ `external_url`
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç HTTPS –≤ `http_server`
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤ Telegram –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤–µ–±—Ö—É–∫–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `cryptography` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ (–¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `requirements.txt`)
- `external_url` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∫–∞–∑–∞–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö `http_server`

#### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `http_api_service` –≤–∫–ª—é—á–µ–Ω (`enabled: true`)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ `start_bot` –∏–ª–∏ `sync_bot_config` –≤–µ–±—Ö—É–∫ –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ ‚Äî –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤–µ–±—Ö—É–∫–∞
5. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É —á–µ—Ä–µ–∑ Telegram ‚Äî –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω–æ –∏ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ

#### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:** –í–µ–±—Ö—É–∫ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞, –µ—Å–ª–∏ `use_webhooks: true`
- **–°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:** –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ (–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è)
- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤:** –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –≤–µ–±—Ö—É–∫–∞–º–∏ –∏ –ø—É–ª–∏–Ω–≥–æ–º —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫—É `use_webhooks`
- **–ì–ª–æ–±–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –±–æ—Ç–∞–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (–ª–∏–±–æ –≤—Å–µ –≤–µ–±—Ö—É–∫–∏, –ª–∏–±–æ –≤—Å–µ –ø—É–ª–∏–Ω–≥)

---

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è –¥–æ–º–∞—à–Ω–µ–≥–æ –ü–ö / –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞

–ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –¥–æ–º–∞—à–Ω–µ–º –ü–ö –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ:

**–ü—Ä–æ–±–ª–µ–º—ã —Å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é:**
- **–ü—É–±–ª–∏—á–Ω—ã–π IP –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞** –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ –∏–∑-–∑–∞:
  - **NAT/—Ä–æ—É—Ç–µ—Ä** ‚Äî –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –Ω—É–∂–µ–Ω port forwarding
  - **CGNAT (Carrier-Grade NAT)** ‚Äî –ø—Ä–æ–≤–∞–π–¥–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—â–∏–π IP –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤, –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω
  - **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π IP** ‚Äî IP –∞–¥—Ä–µ—Å –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
  - **–§–∞–π—Ä–≤–æ–ª –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞** ‚Äî –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–∞ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ä—Ç—ã

**–†–µ—à–µ–Ω–∏—è:**

1. **Port Forwarding –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ:**
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–∞ 443 (prod) –∏–ª–∏ 8443 (test) –Ω–∞ –≤–∞—à –ü–ö
   - –£–∑–Ω–∞–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π IP –ü–ö: `ipconfig` (Windows) –∏–ª–∏ `ifconfig` (Linux)
   - –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–æ—É—Ç–µ—Ä–∞: External Port 443 ‚Üí Internal IP –≤–∞—à–µ–≥–æ –ü–ö:443 (prod)
   - –ò–ª–∏: External Port 8443 ‚Üí Internal IP –≤–∞—à–µ–≥–æ –ü–ö:8443 (test)
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π IP –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ URL –≤–µ–±—Ö—É–∫–∞

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏:**
   ```bash
   # –° –¥—Ä—É–≥–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –∏–ª–∏ —á–µ—Ä–µ–∑ –æ–Ω–ª–∞–π–Ω-—Å–µ—Ä–≤–∏—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, canyouseeme.org)
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –¥–æ—Å—Ç—É–ø–µ–Ω –ª–∏ –≤–∞—à –ø–æ—Ä—Ç –∏–∑–≤–Ω–µ
   ```

3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
   - **ngrok** ‚Äî —Å–æ–∑–¥–∞–µ—Ç —Ç—É–Ω–Ω–µ–ª—å: `ngrok http 8443` ‚Üí –ø–æ–ª—É—á–∏—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π URL
   - **Cloudflare Tunnel** ‚Äî –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç—É–Ω–Ω–µ–ª—å —Å HTTPS
   - **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—É–ª–∏–Ω–≥ –≤–º–µ—Å—Ç–æ –≤–µ–±—Ö—É–∫–æ–≤ (`use_webhooks: false`)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –î–ª—è **–ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPS/–æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å –ø—É–±–ª–∏—á–Ω—ã–º IP
- –î–ª—è **—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** –Ω–∞ –¥–æ–º–∞—à–Ω–µ–º –ü–ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ –≤–µ–±—Ö—É–∫–∏ (–ø—É–ª–∏–Ω–≥)

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞–º–∏ –∫ –ë–î

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç PostgreSQL view –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –ë–î –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ –¥–∞–Ω–Ω—ã–º —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É `view_access`.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ view** ‚Äî –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è view –¥–ª—è –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü —Å `tenant_id`:
   - –ü—Ä–æ—Å—Ç—ã–µ view (–ø—Ä—è–º–æ–π `tenant_id`): `v_tenant`, `v_tenant_storage`, `v_user_storage`, `v_tenant_user`, `v_bot`, `v_scenario`, `v_invoice` –∏ –¥—Ä.
   - –°–ª–æ–∂–Ω—ã–µ view (—á–µ—Ä–µ–∑ –¥–∂–æ–π–Ω—ã): `v_bot_command`, `v_scenario_trigger`, `v_scenario_step`, `v_scenario_step_transition` –∏ –¥—Ä.

2. **–¢–∞–±–ª–∏—Ü–∞ `view_access`** ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ—Å—Ç—É–ø–∞:
   - `login` ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è PostgreSQL (–¥–ª—è `current_user`)
   - `tenant_id` ‚Äî ID —Ç–µ–Ω–∞–Ω—Ç–∞ (0 = –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ç–µ–Ω–∞–Ω—Ç–∞–º)

3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** ‚Äî view –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ñ–∏–ª—å—Ç—Ä—É—é—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ `current_user` –∏ –∑–∞–ø–∏—Å–µ–π –≤ `view_access`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞

#### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è PostgreSQL

```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è
CREATE USER readonly_user WITH PASSWORD 'your_secure_password';

-- –ò–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
CREATE USER analyst_user WITH PASSWORD 'your_secure_password';
```

**–í–∞–∂–Ω–æ:** –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –¥–≤–µ —Ä–æ–ª–∏:
- **`user`** ‚Äî –ø—Ä–∞–≤–∞ SELECT –Ω–∞ –≤—Å–µ view (–¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º —á–µ—Ä–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é)
- **`admin`** ‚Äî –ø—Ä–∞–≤–∞ SELECT –Ω–∞ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏ view, –ø—Ä–∞–≤–∞ INSERT/UPDATE/DELETE –Ω–∞ —Ç–∞–±–ª–∏—Ü—É `view_access` (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –ë–î ‚Äî —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø—ã)

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ê–¥–º–∏–Ω—É –Ω–µ –Ω—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏ (INSERT/UPDATE/DELETE), —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∞–º–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è, –ø–æ—ç—Ç–æ–º—É –∞–¥–º–∏–Ω —Ç–æ–ª—å–∫–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç –¥–æ—Å—Ç—É–ø–∞–º–∏ —á–µ—Ä–µ–∑ —Ç–∞–±–ª–∏—Ü—É `view_access`.

–ù–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –Ω–∞–∑–Ω–∞—á–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ä–æ–ª—å.

#### –®–∞–≥ 2: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –Ω–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

```sql
-- –î–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–¥–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ view —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π)
GRANT "user" TO readonly_user;
GRANT "user" TO analyst_user;

-- –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –ë–î (SELECT –Ω–∞ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã/view, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞–º–∏ —á–µ—Ä–µ–∑ view_access)
GRANT admin TO admin_user;
```

#### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ view_access

```sql
-- –î–æ—Å—Ç—É–ø –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Ç–µ–Ω–∞–Ω—Ç—É (ID = 1)
INSERT INTO view_access (login, tenant_id) VALUES ('readonly_user', 1);

-- –î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ç–µ–Ω–∞–Ω—Ç–∞–º (tenant_id = 0)
INSERT INTO view_access (login, tenant_id) VALUES ('readonly_user', 0);

-- –î–æ—Å—Ç—É–ø –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Ç–µ–Ω–∞–Ω—Ç–∞–º
INSERT INTO view_access (login, tenant_id) VALUES 
    ('analyst_user', 1),
    ('analyst_user', 2),
    ('analyst_user', 3);
```

#### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```sql
-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
SET ROLE readonly_user;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞
SELECT * FROM v_tenant;  -- –î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Ç–µ–Ω–∞–Ω—Ç—ã
SELECT * FROM v_tenant_storage;  -- –¢–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö —Ç–µ–Ω–∞–Ω—Ç–æ–≤
```

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–¢–æ–ª—å–∫–æ –¥–ª—è PostgreSQL** ‚Äî view —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è PostgreSQL, –¥–ª—è SQLite –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** ‚Äî view –ø–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∏—Å—Ç–µ–º—ã (`CREATE OR REPLACE VIEW`)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–æ–ª–∏** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –¥–≤–µ —Ä–æ–ª–∏:
  - `user` ‚Äî –ø—Ä–∞–≤–∞ SELECT –Ω–∞ –≤—Å–µ view (–¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º)
  - `admin` ‚Äî –ø—Ä–∞–≤–∞ SELECT –Ω–∞ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏ view, –ø—Ä–∞–≤–∞ INSERT/UPDATE/DELETE –Ω–∞ —Ç–∞–±–ª–∏—Ü—É `view_access` (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –ë–î ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞–º–∏)
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ, —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `view_access`
- **–ì–∏–±–∫–æ—Å—Ç—å** ‚Äî –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ç–µ–Ω–∞–Ω—Ç–∞–º –∏–ª–∏ –∫–æ –≤—Å–µ–º (tenant_id = 0)

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ê–Ω–∞–ª–∏—Ç–∏–∫ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Ç–µ–Ω–∞–Ω—Ç–∞–º:**
```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
CREATE USER analyst WITH PASSWORD 'secure_password';

-- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ user (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–∞–µ—Ç –ø—Ä–∞–≤–∞ SELECT –Ω–∞ –≤—Å–µ view)
GRANT "user" TO analyst;

-- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–æ–≤
INSERT INTO view_access (login, tenant_id) VALUES 
    ('analyst', 1),
    ('analyst', 2);
```

**Read-only –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**
```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
CREATE USER monitor WITH PASSWORD 'secure_password';

-- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ user (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–∞–µ—Ç –ø—Ä–∞–≤–∞ SELECT –Ω–∞ –≤—Å–µ view)
GRANT "user" TO monitor;

-- –î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ç–µ–Ω–∞–Ω—Ç–∞–º (—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è)
INSERT INTO view_access (login, tenant_id) VALUES ('monitor', 0);
```

**–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ë–î (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞–º–∏):**
```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
CREATE USER db_admin WITH PASSWORD 'secure_password';

-- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–∏ admin (SELECT –Ω–∞ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã/view, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ view_access)
GRANT admin TO db_admin;

-- –¢–µ–ø–µ—Ä—å –∞–¥–º–∏–Ω –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø–∞–º–∏:
-- INSERT INTO view_access (login, tenant_id) VALUES ('new_user', 1);
-- UPDATE view_access SET tenant_id = 2 WHERE login = 'user' AND tenant_id = 1;
-- DELETE FROM view_access WHERE login = 'old_user';
```

---

## Troubleshooting

### GitHub Webhooks

**–í–µ–±—Ö—É–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ (—Ñ–∞–π—Ä–≤–æ–ª, Docker port mapping, port forwarding –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `http_api_service` –≤–∫–ª—é—á–µ–Ω (`enabled: true` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç —Å–æ–≤–ø–∞–¥–∞–µ—Ç –≤ GitHub –∏ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –î–ª—è –¥–æ–º–∞—à–Ω–µ–≥–æ –ü–ö: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ port forwarding –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞ –∏–∑–≤–Ω–µ

**–û—à–∏–±–∫–∞ 401 (Invalid signature):**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç –≤ GitHub —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `GITHUB_WEBHOOK_SECRET`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –∏–ª–∏ —Å–∏–º–≤–æ–ª–æ–≤

**–í–µ–±—Ö—É–∫ –ø—Ä–∏—Ö–æ–¥–∏—Ç, –Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ, —Ñ–∞–π–ª—ã –Ω–µ –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º —Ç–µ–Ω–∞–Ω—Ç–æ–≤
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `use_webhooks: true` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö `tenant_hub`

**GitHub –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –¥–æ—Å—Ç–∞–≤–∫–∏:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ (–Ω–µ localhost, –Ω–µ 127.0.0.1)
- –î–ª—è —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞: –æ—Ç–∫–ª—é—á–∏—Ç–µ SSL verification –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–µ–±—Ö—É–∫–∞ GitHub
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –≤ GitHub (Webhooks ‚Üí –≤–∞—à –≤–µ–±—Ö—É–∫ ‚Üí Recent Deliveries) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–∫–∏

### Telegram Webhooks

**–í–µ–±—Ö—É–∫ –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `external_url` —É–∫–∞–∑–∞–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö `http_server` (–Ω–µ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `http_api_service` –≤–∫–ª—é—á–µ–Ω (`enabled: true`)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –≤–µ–±—Ö—É–∫–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `cryptography` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞

**–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `cryptography` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞: `pip install cryptography`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `external_url` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞–ª–∏–¥–Ω—ã–π IP –∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–∫–∏

**–í–µ–±—Ö—É–∫ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ (—Ñ–∞–π—Ä–≤–æ–ª, Docker port mapping)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º Telegram (80, 88, 443 –∏–ª–∏ 8443)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `external_url` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –≤–Ω–µ—à–Ω–∏–π IP/–¥–æ–º–µ–Ω (–Ω–µ localhost)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Äî –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ –≤–µ–±—Ö—É–∫–æ–≤
- –í Telegram Bot API –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤–µ–±—Ö—É–∫–∞ —á–µ—Ä–µ–∑ `getWebhookInfo`

**–û—à–∏–±–∫–∞ "Webhook can be set up only on ports 80, 88, 443 or 8443":**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `http_server.external_url` —É–∫–∞–∑–∞–Ω –æ–¥–∏–Ω –∏–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤
- –î–ª—è test –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Ä—Ç 8443
- –î–ª—è prod –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Ä—Ç 443
- –û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ –≤ `docker-compose.test.yml` (8443) –∏ `docker-compose.prod.yml` (443)

**–û—à–∏–±–∫–∞ 401 (Invalid secret token):**
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Å–∏—Å—Ç–µ–º—ã ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ–±—Ö—É–∫ –±—ã–ª –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –¥–µ—Ç–∞–ª–µ–π
