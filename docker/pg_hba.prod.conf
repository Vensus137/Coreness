# PostgreSQL Host-Based Authentication for PROD environment
# Allows trust for internal connections (Docker network) and requires password for external

# TYPE  DATABASE  USER  ADDRESS         METHOD

# Local connections via Unix socket (trust)
local   all       all                  trust

# Connections via localhost (trust for internal)
host    all       all   127.0.0.1/32   trust

# Connections from Docker networks (trust - no password)
# Docker bridge networks usually use these subnets
host    all       all   172.16.0.0/12  trust
host    all       all   172.17.0.0/16  trust
host    all       all   10.0.0.0/8     trust

# All other connections (external) - require password
host    all       all   0.0.0.0/0       md5
